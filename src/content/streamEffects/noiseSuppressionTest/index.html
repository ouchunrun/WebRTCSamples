<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta id="theme-color" name="theme-color" content="#ffffff">
    <base target="_blank">
    <title>Audio stream track settings</title>
    <link rel="shortcut icon" href="#"/>
    <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/index.css"/>
    <link rel="stylesheet" href="css/main.css"/>

</head>
<body>
    <div id="container">
        <h1>WebRTC samples<span>Audio stream track settings</span>
        </h1>

        <div>
            <h2>Device select</h2>
            <div class="select">
                <label for="audioSource">Audio input source: </label><select id="audioSource"></select>
            </div>

            <div class="select" style="display: none">
                <label for="audioOutput">Audio output destination: </label><select id="audioOutput"></select>
            </div>

            <div class="select" style="display: none">
                <label for="videoSource">Video source: </label><select id="videoSource"></select>
            </div>
        </div>

        <div>
            <h2>Audio settings</h2>
            <div class="select">
                <label for="noiseSuppression">Noise Suppression: </label>
                <input type="checkbox" id="noiseSuppression">
            </div>

            <div class="select">
                <label for="echoCancellation">EchoCancellation: </label>
                <input type="checkbox" id="echoCancellation">
            </div>

            <div class="select">
                <label for="autoGainControl">Auto GainControl: </label>
                <input type="checkbox" id="autoGainControl">
            </div>

            <div class="select">
                <label for="channelCount">Channel Count: </label>
                <select id="channelCount">
                    <option value=1>1</option>
                    <option value=2>2</option>
                </select>
            </div>

            <div class="select">
                <label for="volume">volume: </label>
                <select id="volume">
                    <option value='0.0'>0.0</option>
                    <option value='0.1'>0.1</option>
                    <option value='0.2'>0.2</option>
                    <option value='0.3'>0.3</option>
                    <option value='0.4'>0.4</option>
                    <option value='0.5'>0.5</option>
                    <option value='0.6'>0.6</option>
                    <option value='0.7'>0.7</option>
                    <option value='0.8'>0.8</option>
                    <option value='0.9'>0.9</option>
                    <option value='1.0'>1.0</option>
                </select>
            </div>
        </div>

        <div>
            <h2>audio output</h2>
            <audio title="audio stream from getUserMedia()" id="gumAudio" controls autoplay></audio>

            <p>Measure the volume of a local media stream using WebAudio.</p>
            <div id="meters">
                <div id="instant">
                    <div class="label">Instant:</div>
                    <meter high="0.25" max="1" value="0"></meter>
                    <div class="value"></div>
                </div>
                <div id="slow">
                    <div class="label">Slow:</div>
                    <meter high="0.25" max="1" value="0"></meter>
                    <div class="value"></div>
                </div>
                <div id="clip">
                    <div class="label">Clip:</div>
                    <meter max="1" value="0"></meter>
                    <div class="value"></div>
                </div>
            </div>

        </div>

        <div>
            <button type="button" id="startButton" onclick="getAudioStream()">start</button>
            <button type="button" id="stopButton" onclick="stop()" disabled>Stop</button>
            <button type="button" id="getCapabilities" onclick="getCapabilities()" disabled>getCapabilities</button>
        </div>

        <div>
            <h2>Note:</h2>
            <p>1.The non-clickable option under <strong>Audio settings</strong> means it is not supported.</p>
            <p>2.No response after <strong>start</strong> is clicked, please see the console error print.</p>
            <p>3.OverconstrainedError.constraint can view specific error items</p>
            <p>4. <strong>getCapabilities</strong> is used to view the supported configuration items</p>
        </div>
    </div>
    <script src="js/soundmeter.js"></script>
    <script src="js/peerconnection.js"></script>
    <script src="js/main.js" async></script>
</body>
</html>
